---
layout: post
title: '在mac上安装mtr'
date: 2011-12-31
wordpress_id: 89
permalink: /blogs/89
comments: true
---
不得不说MAC下某些命令与常见的linux发行版中的命令大不一样。ps, sed 我忍很久了。

这次又发现没有<a href="http://www.bitwizard.nl/mtr/" title="mtr">mtr</a>工具，还好装了brew，于是
<a href="http://www.lovelin.info/wp-content/uploads/2011/12/Screen-Shot-2011-12-31-at-3.25.54-PM.png"><img src="http://www.lovelin.info/wp-content/uploads/2011/12/Screen-Shot-2011-12-31-at-3.25.54-PM.png" alt="" title="mtr install" width="678" height="78" class="alignnone size-full wp-image-90" /></a>
发现居然莫名地开始下载gtk+??

于是，决定挽袖子自己compile一个
1.download并解压缩
[cc lang="bash"]
wget ftp://ftp.bitwizard.nl/mtr/mtr-0.82.tar.gz
tar xzvf mtr-0.82.tar.gz
[/cc]
2.编译
[cc lang="bash"]
cd mtr-0.82
./configure
make
sudo make install
[/cc]
发现装到/usr/local/bin/sbin下面去了。忘记configure时做prefix了
3.此目录不在我的PATH范围内，所以在~/.profile文件中加入一句
[cc lang="bash"]
echo 'export PATH=/usr/local/bin/sbin:$PATH' >> ~/.profile
source !$
[/cc]
4.使用
[cc lang="bash"]
mtr www.alibaba.com
[/cc]
结果：
<a href="http://www.lovelin.info/wp-content/uploads/2011/12/Screen-Shot-2011-12-31-at-3.20.13-PM.png"><img src="http://www.lovelin.info/wp-content/uploads/2011/12/Screen-Shot-2011-12-31-at-3.20.13-PM.png" alt="" title="mtr result" width="639" height="240" class="alignnone size-full wp-image-94" /></a>

PS：
如果出现如下错误
<a href="http://www.lovelin.info/wp-content/uploads/2011/12/Screen-Shot-2012-01-02-at-9.36.30-AM.png"><img src="http://www.lovelin.info/wp-content/uploads/2011/12/Screen-Shot-2012-01-02-at-9.36.30-AM.png" alt="" title="mtr compile error" width="417" height="224" class="alignnone size-full wp-image-102" /></a>
先
[cc lang="bash"]
export LIBS='-lm -ltermcap -lresolv'
[/cc]
再执行编译即可
