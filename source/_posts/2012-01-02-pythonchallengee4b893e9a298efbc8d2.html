---
layout: post
title: pythonchallenge专题－2
categories:
- technology
tags:
- python
- pythonchallenge
published: true
comments: true
---
<p>第2题地址<a href="http://www.pythonchallenge.com/pc/def/map.html" title="http://www.pythonchallenge.com/pc/def/map.html" target="_blank">http://www.pythonchallenge.com/pc/def/map.html</a></p>

<p>根据图片提示，可以判断这是一个简单的解密算法，将每个字母mapping到它的ascii值加2代表的字母就可以了。<br />
于是第一版本出来了<br />
[cc lang="python"]<br />
str = "g fmnc wms bgblr rpylqjyrc gr zw fylb. rfyrq ufyr amknsrcpq ypc dmp. bmgle gr gl zw fylb gq glcddgagclr ylb rfyr'q ufw rfgq rcvr gq qm jmle. sqgle qrpgle.kyicrpylq() gq pcamkkclbcb. lmu ynnjw ml rfc spj."</p>

<p>convertFun = lambda x : chr((ord(x) - 95) % 26 + 97)</p>

<p>plainStr = []<br />
for char in str:<br />
    if not (96 < ord(char) < 123):<br />
        plainStr.append(char)<br />
    else:<br />
        plainStr.append(convertFun(char))<br />
print "".join(plainStr)</p>

<p>[/cc]<br />
期间发现翻译出来的文字还是有点问题，并不是之前想的ascii+2就可以了，而是一个头尾相连的环。比如字母"y"需要映射到字母"a"才正确。<br />
解密出来的结果是如下一段文字：<br />
[cc lang="bash"]<br />
i hope you didnt translate it by hand. thats what computers are for. doing it in by hand is inefficient and that's why this text is so long. using string.maketrans() is recommended. now apply on the url.<br />
[/cc]<br />
很显然，这暴露了我是一个python初学者，我根本不知道还有string.maketrans这样的现有的trans功能。<br />
查了下资料后，第2版的代码如下：<br />
[cc lang="python"]<br />
import string</p>

<p>str = "g fmnc wms bgblr rpylqjyrc gr zw fylb. rfyrq ufyr amknsrcpq ypc dmp. bmgle gr gl zw fylb gq glcddgagclr ylb rfyr'q ufw rfgq rcvr gq qm jmle. sqgle qrpgle.kyicrpylq() gq pcamkkclbcb. lmu ynnjw ml rfc spj."</p>

<p>table = string.maketrans("abcdefghijklmnopqrstuvwxyz", "cdefghijklmnopqrstuvwxyzab")<br />
print string.translate(str, table)<br />
[/cc]<br />
打印出来的结果与上面的是一样的，不过代码就精简了很多了。<br />
现在的问题在于，我怎样才能进入下一关？？？像第一题一样把这段文字拷到url中替换某个关键词(map)，发现并不正确。<br />
根据提示将整个URL塞到解密函数中，“http”都转义了，明显也不对。<br />
无头苍蝇般瞎折腾了N久后，终于发现只将"map"这个关键词做一下mapping,得到"ocr",将"ocr"替换掉"map",进入下一题。</p>

<p>PS:<br />
如果不用python,直接在shell下用tr,更简单
<a href="http://www.lovelin.info/wp-content/uploads/2012/01/Screen-Shot-2012-01-02-at-10.54.16-AM.png"><img src="http://www.lovelin.info/wp-content/uploads/2012/01/Screen-Shot-2012-01-02-at-10.54.16-AM.png" alt="" title="tr result" width="652" height="131" class="alignnone size-full wp-image-110" /></a></p>
